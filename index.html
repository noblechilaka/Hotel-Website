<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grand Emily Hotel | Where Timeless Elegance Lives</title>
    <meta
      name="description"
      content="Experience timeless elegance at Grand Emily Hotel. Where contemporary design meets legendary hospitality."
    />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&display=swap"
      rel="stylesheet"
    />

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <link rel="stylesheet" href="/styles/global.css" />
    <link rel="stylesheet" href="/styles/typography.css" />
    <link rel="stylesheet" href="/styles/layout.css" />
    <link rel="stylesheet" href="/styles/components.css" />
    <link rel="stylesheet" href="/styles/animations.css" />

    <!-- Lenis Smooth Scrolling -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    
    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Flatpickr -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  </head>
  <body class="home-page">
    <!-- Scroll Progress -->
    <div class="scroll-progress"></div>

    <!-- Header -->
    <header class="header">
      <div class="header-inner">
        <!-- Menu Toggle - Left -->
        <button class="header-menu" id="menuToggle" aria-label="Open navigation menu">
          <div class="menu-icon">
            <span></span>
            <span></span>
          </div>
          <span class="menu-text">MENU</span>
        </button>

        <!-- Logo - Centered -->
        <div class="header-logo">
          <a href="/index.html" class="logo">EMILY HOTEL</a>
        </div>

        <!-- Navigation - Right -->
        <nav class="header-nav-right">
          <a href="/signup.html" class="nav-link">JOIN US</a>
         <!-- Submit Button -->
            <button type="submit" class="booking-cta" id="bookNowBtn">BOOK NOW</button>
        </nav>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" aria-label="Toggle navigation" style="background: transparent; border: none; cursor: pointer; padding: 0.5rem; display: none;">
          <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0 0 32 32">
            <path d="M 4 7 L 4 9 L 28 9 L 28 7 L 4 7 z M 4 15 L 4 17 L 28 17 L 28 15 L 4 15 z M 4 23 L 4 25 L 28 25 L 28 23 L 4 23 z"></path>
          </svg>
        </button>
      </div>
    </header>

    <!-- Navigation Menu Panel -->
    <div class="menu-overlay" id="menuOverlay" role="dialog" aria-modal="true" aria-hidden="true">
      <nav class="menu-panel" aria-label="Main navigation">
        <ul class="menu-list">
          <li class="menu-item"><a href="/index.html" class="menu-link">Home</a></li>
          <li class="menu-item"><a href="/rooms.html" class="menu-link">Rooms & Suites</a></li>
          <li class="menu-item"><a href="/about.html" class="menu-link">About Us</a></li>
          <li class="menu-item"><a href="#" class="menu-link">Experiences</a></li>
          <li class="menu-item"><a href="/gallery.html" class="menu-link">Gallery</a></li>
          <li class="menu-item"><a href="/contact.html" class="menu-link">Contact</a></li>
          <li class="menu-item menu-divider"></li>
          <li class="menu-item"><a href="#" class="menu-link menu-link-secondary">JOIN US</a></li>
          <li class="menu-item"><a href="#" class="menu-link menu-link-cta">Book Your Stay</a></li>
        </ul>
        <button class="menu-close" id="menuClose" aria-label="Close navigation menu"><span class="material-symbols-outlined">
close
</span>Close</button>
        
      </nav>
    </div>


    <main>
      <!-- Hero Section - Grand Emily Hotel -->
      <section class="hero">
        <!-- Hero Background Image - Moody Hotel Interior -->
        <img
          src="/assets/imgs/Luxurious Hotel Lobby (1).png"
          alt="Grand Emily Hotel Lobby - Modern Interior with Fluted Wood and Concrete"
          class="hero-bg"
        />
        
        <!-- Directional Gradient Overlay -->
        <div class="hero-overlay"></div>

        <!-- Hero Content -->
        <div class="hero-content">
          <div class="hero-center-content">
            <h1 class="hero-headline">
              <span class="hero-headline-mask"><span class="hero-headline-text" data-animate="heading">GRAND</span></span>
              <span class="hero-headline-mask"><span class="hero-headline-text" data-animate="heading">EMILY</span></span>
              <span class="hero-headline-mask"><span class="hero-headline-text" data-animate="heading">HOTEL</span></span>
            </h1>
          </div>
        </div>

        <!-- Bottom Caption -->
        <div class="hero-caption">
          <p data-animate="subtext">Where timeless elegance meets contemporary design. Experience the warmth and stature of high-end Nigerian hospitality in the heart of Lagos.</p>
        </div>
      </section>

      <!-- Booking Interface Bar - Editorial Typography Style -->
      <div class="hero-booking-bar" data-animate="booking">
        <form class="editorial-filters" id="heroBookingForm">
            <!-- Check-in Date Filter -->
            <div class="filter-unit filter-dates">
              <label class="filter-label" for="heroCheckIn">
                Check-in
                <span class="filter-arrow"></span>
              </label>
              <span class="filter-value" id="heroCheckInValue">Select Date</span>
              <span class="filter-underline"></span>
              <input
                type="text"
                id="heroCheckIn"
                class="filter-select"
                placeholder="Check-in"
                autocomplete="off"
              />
            </div>

            <!-- Check-out Date Filter -->
            <div class="filter-unit filter-dates">
              <label class="filter-label" for="heroCheckOut">
                Check-out
                <span class="filter-arrow"></span>
              </label>
              <span class="filter-value" id="heroCheckOutValue">Select Date</span>
              <span class="filter-underline"></span>
              <input
                type="text"
                id="heroCheckOut"
                class="filter-select"
                placeholder="Check-out"
                autocomplete="off"
              />
            </div>

            <!-- Rooms Filter -->
            <div class="filter-unit filter-rooms">
              <label class="filter-label" for="heroRooms">
                Rooms
                <span class="filter-arrow"></span>
              </label>
              <span class="filter-value" id="heroRoomsValue">1 Room</span>
              <span class="filter-underline"></span>
              <select id="heroRooms" class="filter-select">
                <option value="1">1 Room</option>
                <option value="2">2 Rooms</option>
                <option value="3">3 Rooms</option>
                <option value="4">4 Rooms</option>
                <option value="5">5 Rooms</option>
              </select>
            </div>

            <!-- Guests Filter -->
            <div class="filter-unit filter-guests">
              <label class="filter-label" for="heroGuests">
                Guests
                <span class="filter-arrow"></span>
              </label>
              <span class="filter-value" id="heroGuestsValue">2 Adults</span>
              <span class="filter-underline"></span>
              <select id="heroGuests" class="filter-select">
                <option value="1-0">1 Adult</option>
                <option value="2-0" selected>2 Adults</option>
                <option value="2-1">2 Adults, 1 Child</option>
                <option value="2-2">2 Adults, 2 Children</option>
                <option value="3-0">3 Adults</option>
                <option value="3-1">3 Adults, 1 Child</option>
                <option value="4-0">4 Adults</option>
                <option value="4-2">4 Adults, 2 Children</option>
              </select>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="booking-cta">BROWSE ROOMS</button>
            <!-- Submit Button -->
            <button type="submit" class="booking-cta book-now-btn"  id="bookNowBtn">BOOK NOW</button>
          </form>
        </div>

      </section>

      

      <!-- Quick Booking Widget (Below Hero)
      <section class="booking-widget-section">
        <div class="container">
          <div class="home-booking-widget">
            <h3 class="booking-widget-title">Book Your Stay</h3>
            <div class="booking-form-row">
              <div class="booking-form-group">
                <label class="booking-label">Check-in</label>
                <input
                  type="text"
                  id="homeCheckIn"
                  class="booking-input"
                  placeholder="Select date"
                />
              </div>
              <div class="booking-form-group">
                <label class="booking-label">Check-out</label>
                <input
                  type="text"
                  id="homeCheckOut"
                  class="booking-input"
                  placeholder="Select date"
                />
              </div>
              <div class="booking-form-group">
                <label class="booking-label">Guests</label>
                <div class="guest-selector">
                  <button class="guest-btn" id="homeGuestDecrease">−</button>
                  <span id="homeGuestCount" class="guest-count">2</span>
                  <button class="guest-btn" id="homeGuestIncrease">+</button>
                </div>
              </div>
              <a href="/rooms.html" class="btn-ghost-pill booking-submit-btn" id="homeBookNow">
                Check Availability
              </a>
            </div>
          </div>
        </div>
      </section> -->

            <!-- Discovery Section -->
      <section class="discovery section-padding">
        <div class="container">
          <div class="discovery-grid">
            <div class="discovery-image-wrapper" style="position: relative">
              <div class="section-label-wrapper">
                <span class="rotated-label">Our Story</span>
              </div>
              
              <!-- Discovery Parallax with Reveal Mask -->
              <div class="discovery-parallax-container">
                <img
                  src="/assets/imgs/Luxuriant Modern Lounge.png"
                  alt="Hotel Exterior at Sunset"
                  class="discovery-parallax-image"
                  style="border-radius: 4px"
                />
              </div>
            </div>

            <div class="discovery-content">
              <!-- Soft Lift Section Title -->
              <span
                class="meta-text gold"
                style="margin-bottom: 1rem; display: block"
                >Discover</span
              >
              <h2
                class="section-title offset-right"
                data-animate="soft-lift"
                style="margin-bottom: 1.5rem"
              >
                A Sanctuary
                of Calm
              </h2>
              
              <!-- Staggered Body Text -->
              <p class="body-text" data-animate="" style="margin-bottom: 1.5rem">
                Nestled along the pristine coastline, Luxury Hotel offers an escape from the ordinary. Every detail has been crafted to create moments of pure indulgence and profound peace.
              </p>
              <p class="body-text" data-animate="staggered" style="margin-bottom: 2rem; opacity: 0.7">
                Our commitment to excellence and authentic hospitality ensures your stay becomes a cherished memory.
              </p>
              <a href="/about.html" class="btn-arrow">
                Read Our Story
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                >
                  <path d="M5 12h14M12 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- ============================================
           QUIET LUXURY ROOMS SECTION
           "The Monolith" - Vertical Staggered List
           ============================================ -->
      <section class="quiet-luxury-rooms">
        <!-- Captivating Section Header -->
        <div class="quiet-rooms-header">
          <span class="quiet-rooms-label">Our Accommodations</span>
          <h2 class="quiet-rooms-title">
            <span class="title-line">The Art of</span>
            <span class="title-line">Retreat</span>
          </h2>
          <p class="quiet-rooms-intro">
            Four distinct spaces. Each a study in quiet luxury.
          </p>
        </div>
        
        <div class="quiet-rooms-container" id="quiet-rooms-container">
          <!-- Quiet luxury rooms will be loaded here by JavaScript -->
        </div>

        <script>
          // Initialize quiet luxury rooms on page load
          document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('quiet-rooms-container');
            if (container && window.RoomManager) {
              container.innerHTML = window.RoomManager.getAll('cinematic')
                .map((room, index) => window.RoomManager.renderQuietRoomCard(room, index))
                .join('');
              
              // Initialize quiet luxury animations after DOM is rendered
              if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                setTimeout(() => {
                  window.RoomManager.initQuietLuxuryAnimations();
                }, 100);
              }
            }
          });
        </script>
      </section>

    
           <!-- Curated Moments Grid -->
      <section class="curated-moments section-padding">
        <div class="container">
          <span
            class="meta-text gold"
            style="margin-bottom: 0.5rem; display: block"
            >Curated Moments</span
          >
          <h2 
            class="section-title" 
            data-animate="soft-lift"
            style="margin-bottom: var(--space-lg);"
          >
            The Architecture
            of Restoration
          </h2>
        </div>
        
        <div class="curated-moments-grid">
          <!-- Item 1 -->
          <div class="curated-item">
            <img
              src="/assets/imgs/Facial Treatment Serenity.png"
              alt="Spa Experience"
              class="curated-image"
            />
            <span class="curated-tagline">The architecture of restoration</span>
            <span class="curated-sensory">Liquid gold and velvet nights</span>
          </div>
          
          <!-- Item 2 -->
          <div class="curated-item">
            <img
              src="/assets/imgs/Modern Restaurant Interior.png"
              alt="Fine Dining"
              class="curated-image"
            />
            <span class="curated-tagline">Culinary artistry</span>
            <span class="curated-sensory">Where flavor meets memory</span>
          </div>
          
          <!-- Item 3 -->
          <div class="curated-item">
            <img
              src="/assets/imgs/sunset bar.jpg"
              alt="Sunset Bar"
              class="curated-image"
            />
            <span class="curated-tagline">Waterside elegance</span>
            <span class="curated-sensory">Golden hour in every glass</span>
          </div>
          
          <!-- Item 4 -->
          <div class="curated-item">
            <img
              src="/assets/imgs/Poolside Relaxation at Luxury Resort.png"
              alt="Infinity Pool"
              class="curated-image"
            />
            <span class="curated-tagline">Ocean horizon views</span>
            <span class="curated-sensory">Infinity begins at the edge</span>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="cta-section">
        <!-- Video Background Placeholder -->
        <video 
          class="cta-video-bg" 
          autoplay 
          muted 
          loop 
          playsinline
          poster="/assets/imgs/Luxurious Hotel Lobby.png"
        >
          <!-- Placeholder video source - replace with actual video -->
          <source src="" type="video/mp4">
        </video>
        <div class="cta-video-overlay"></div>
        
        <div class="cta-content">
          <span class="cta-meta meta-text gold" style="color: var(--editorial-accent);">Begin Your Journey</span>
          <div class="cta-heading-lines">
            <span class="cta-heading cta-heading-line">Reserve Your</span>
            <span class="cta-heading cta-heading-line">Escape Today</span>
          </div>
          <div class="cta-cta-btn">
            <a
              href="/booking.html"
              class="btn btn-primary"
              style="border-color: var(--text-light); margin-top: 2rem"
            >
              Book Your Stay
            </a>
          </div>
        </div>
      </section>

      <!-- The Perspective Section -->
      <section class="perspective-section section-padding">
        <div class="perspective-content">
          <div class="blur-to-focus">
            <p class="perspective-quote">
              "A rare masterclass in silence. The Emily doesn't just house you; it exhales with you."
            </p>
            <p class="perspective-author">— L'Art de Vivre</p>
          </div>
        </div>
      </section>

 
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-grid">
        <div class="footer-brand">
          <span class="footer-logo">EMILY HOTEL</span>
          <p class="footer-tagline">
            Where timeless elegance meets contemporary design. Experience the art of hospitality.
          </p>
        </div>

        <div class="footer-col">
          <h4 class="footer-title">Explore</h4>
          <ul class="footer-links">
            <li><a href="/rooms.html">Rooms & Suites</a></li>
            <li><a href="#">Dining</a></li>
            <li><a href="#">Spa & Wellness</a></li>
            <li><a href="#">Experiences</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4 class="footer-title">Company</h4>
          <ul class="footer-links">
            <li><a href="/about.html">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="/contact.html">Contact</a></li>
            <li><a href="#">Press</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4 class="footer-title">Contact</h4>
          <ul class="footer-links">
            <li>123 Luxury Avenue</li>
            <li>New York, NY 10001</li>
            <li>+1 (212) 555-0123</li>
            <li>reservations@emilyhotel.com</li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <span class="footer-copyright"
          >© 2024 Grand Emily Hotel. All rights reserved.</span
        >
        <div class="footer-social">
          <a href="#" class="social-link">Instagram</a>
          <a href="#" class="social-link">Facebook</a>
          <a href="#" class="social-link">Twitter</a>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="/scripts/main.js"></script>
    <script src="/scripts/animations.js"></script>
    <script src="/scripts/supabase.js"></script>
    <script src="/scripts/auth.js"></script>
    <script src="/scripts/rooms-data.js"></script>

    <!-- Lenis Smooth Scrolling Initialization -->
    <script>
      // Initialize Lenis for smooth scrolling
      const lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
        direction: 'vertical',
        gestureDirection: 'vertical',
        smooth: true,
        mouseMultiplier: 1,
        smoothTouch: false,
        touchMultiplier: 2,
      });

      // Integrate Lenis with GSAP ScrollTrigger
      lenis.on('scroll', ScrollTrigger.update);

      gsap.ticker.add((time) => {
        lenis.raf(time * 1000);
      });

      gsap.ticker.lagSmoothing(0);

      // Handle anchor link clicks for smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            lenis.scrollTo(target, {
              offset: -100, // Account for fixed header
              duration: 1.2
            });
          }
        });
      });

      // Expose lenis to global scope for other scripts
      window.lenis = lenis;

      console.log('Lenis smooth scrolling initialized');
    </script>

    <script>
 

      // Header Book Now Button Handler
      (function() {
        const bookNowBtn = document.getElementById('bookNowBtn');
        
        if (bookNowBtn) {
          bookNowBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Get or set default dates
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            
            const todayISO = today.toISOString().split('T')[0];
            const tomorrowISO = tomorrow.toISOString().split('T')[0];
            
            // Store booking data in sessionStorage
            const bookingData = {
              checkIn: todayISO,
              checkOut: tomorrowISO,
              guests: 2,
              fromHomePage: true
            };
            
            sessionStorage.setItem('homeBookingData', JSON.stringify(bookingData));
            
            // Redirect to booking page
            window.location.href = '/booking.html';
          });
        }
      })();

      // Hero Booking Filter Functionality
      (function() {
        const heroForm = document.getElementById('heroBookingForm');
        const heroCheckIn = document.getElementById('heroCheckIn');
        const heroCheckOut = document.getElementById('heroCheckOut');
        const heroRooms = document.getElementById('heroRooms');
        const heroGuests = document.getElementById('heroGuests');
        const heroCheckInValue = document.getElementById('heroCheckInValue');
        const heroCheckOutValue = document.getElementById('heroCheckOutValue');
        const heroRoomsValue = document.getElementById('heroRoomsValue');
        const heroGuestsValue = document.getElementById('heroGuestsValue');
        
        // Helper function to format date (same as booking.js)
        function formatShortDate(date) {
          const options = { month: 'short', day: 'numeric' };
          return new Date(date).toLocaleDateString('en-US', options);
        }
        
        // Helper function to get ISO date string
        function getISODate(date) {
          return date.toISOString().split('T')[0];
        }
        
        // Set today's date for check-in, tomorrow for check-out (same as booking.js)
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);
        const todayISO = getISODate(today);
        const tomorrowISO = getISODate(tomorrow);
        const todayDisplay = formatShortDate(today);
        const tomorrowDisplay = formatShortDate(tomorrow);
        
        // Set initial display values
        if (heroCheckInValue) heroCheckInValue.textContent = todayDisplay;
        if (heroCheckOutValue) heroCheckOutValue.textContent = tomorrowDisplay;
        
        // Initialize date pickers for hero section
        if (typeof flatpickr !== 'undefined' && heroCheckIn && heroCheckOut) {
          // Check-in date picker
          flatpickr(heroCheckIn, {
            minDate: 'today',
            defaultDate: 'today',
            dateFormat: 'M d',
            showMonths: 1,
            static: true,
            onChange: function(selectedDates, dateStr) {
              if (heroCheckInValue) {
                heroCheckInValue.textContent = dateStr;
              }
              // Update check-out min date
              if (heroCheckOut._flatpickr) {
                heroCheckOut._flatpickr.set('minDate', dateStr);
                // If check-out is now before check-in, move it to next day
                const checkOutDate = heroCheckOut._flatpickr.selectedDates[0];
                if (checkOutDate && checkOutDate <= selectedDates[0]) {
                  const newCheckOut = new Date(selectedDates[0]);
                  newCheckOut.setDate(newCheckOut.getDate() + 1);
                  heroCheckOut._flatpickr.setDate(newCheckOut);
                  if (heroCheckOutValue) {
                    heroCheckOutValue.textContent = formatShortDate(newCheckOut);
                  }
                }
              }
            }
          });
          
          // Check-out date picker
          flatpickr(heroCheckOut, {
            minDate: tomorrowISO,
            defaultDate: tomorrow,
            dateFormat: 'M d',
            showMonths: 1,
            static: true,
            onChange: function(selectedDates, dateStr) {
              if (heroCheckOutValue) {
                heroCheckOutValue.textContent = dateStr;
              }
            }
          });
        } else {
          // Fallback without flatpickr
          if (heroCheckInValue) heroCheckInValue.textContent = todayDisplay;
          if (heroCheckOutValue) heroCheckOutValue.textContent = tomorrowDisplay;
        }

        // Room selector update
        if (heroRooms && heroRoomsValue) {
          heroRooms.addEventListener('change', function() {
            const rooms = parseInt(this.value);
            heroRoomsValue.textContent = rooms + ' Room' + (rooms > 1 ? 's' : '');
          });
        }

        // Guest selector update
        if (heroGuests && heroGuestsValue) {
          heroGuests.addEventListener('change', function() {
            const value = this.value;
            const [adults, children] = value.split('-').map(Number);
            let text = adults + ' Adult' + (adults > 1 ? 's' : '');
            if (children > 0) {
              text += ', ' + children + ' Child' + (children > 1 ? 'ren' : '');
            }
            heroGuestsValue.textContent = text;
          });
        }

        // Form submission
        if (heroForm) {
          heroForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get values - use ISO format for booking system
            const checkInDate = heroCheckIn?._flatpickr?.selectedDates[0] || today;
            const checkOutDate = heroCheckOut?._flatpickr?.selectedDates[0] || tomorrow;
            const checkInISO = getISODate(checkInDate);
            const checkOutISO = getISODate(checkOutDate);
            const checkInDisplay = formatShortDate(checkInDate);
            const checkOutDisplay = formatShortDate(checkOutDate);
            
            const rooms = parseInt(heroRooms?.value || '1');
            const guestsValue = heroGuests?.value || '2-0';
            const [adults, children] = guestsValue.split('-').map(Number);
            
            // Store booking data in sessionStorage (matching booking.js format)
            const bookingData = {
              checkIn: checkInISO,
              checkOut: checkOutISO,
              rooms: rooms,
              guests: adults + children,
              fromHomePage: true,
              fromHeroFilter: true
            };
            
            sessionStorage.setItem('homeBookingData', JSON.stringify(bookingData));
            
            // Redirect to rooms page
            window.location.href = '/rooms.html';
          });
        }
      })();

      // Initialize home booking widget
      document.addEventListener('DOMContentLoaded', () => {
        const today = new Date();
        const tomorrow = new Date(today);
        tomorrow.setDate(tomorrow.getDate() + 1);

        // Initialize date pickers
        const checkInPicker = flatpickr('#homeCheckIn', {
          minDate: today,
          defaultDate: today,
          dateFormat: 'Y-m-d',
          onChange: (dates, dateStr) => {
            const checkOutPicker = document.getElementById('homeCheckOut')._flatpickr;
            checkOutPicker.set('minDate', dateStr);
          }
        });

        const checkOutPicker = flatpickr('#homeCheckOut', {
          minDate: tomorrow,
          defaultDate: tomorrow,
          dateFormat: 'Y-m-d'
        });

        // Guest selector
        const guestCountEl = document.getElementById('homeGuestCount');
        
        document.getElementById('homeGuestIncrease')?.addEventListener('click', () => {
          const current = parseInt(guestCountEl.textContent);
          if (current < 6) {
            guestCountEl.textContent = current + 1;
          }
        });

        document.getElementById('homeGuestDecrease')?.addEventListener('click', () => {
          const current = parseInt(guestCountEl.textContent);
          if (current > 1) {
            guestCountEl.textContent = current - 1;
          }
        });

        // Book Now button
        document.getElementById('homeBookNow')?.addEventListener('click', (e) => {
          const checkIn = document.getElementById('homeCheckIn').value;
          const checkOut = document.getElementById('homeCheckOut').value;
          const guests = parseInt(guestCountEl.textContent);

          // Store booking data in sessionStorage
          const bookingData = {
            checkIn,
            checkOut,
            guests,
            fromHomePage: true
          };
          sessionStorage.setItem('homeBookingData', JSON.stringify(bookingData));
        });
      });
    </script>

    <!-- Mobile Booking FAB -->
    <div class="fab-backdrop" id="fabBackdrop"></div>

    <!-- FAB Button - Minimized State -->
    <button class="mobile-booking-fab" id="fabButton" aria-label="Open booking">
 <span class="material-symbols-outlined">
calendar_month
</span>
      <span class="fab-text">Book Now</span>
    </button>

    <!-- FAB Panel - Expanded State -->
    <div class="fab-panel" id="fabPanel">
      <div class="fab-panel-header">
        <h3 class="fab-panel-title">Your Stay</h3>
        <button class="fab-close" id="fabClose" aria-label="Close booking panel">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      
      <div class="fab-field-group">
        <div class="fab-field">
          <label class="fab-label">Arrival</label>
          <input type="text" id="fabCheckIn" class="fab-input" placeholder="Today" readonly />
        </div>
        
        <div class="fab-field">
          <label class="fab-label">Departure</label>
          <input type="text" id="fabCheckOut" class="fab-input" placeholder="Tomorrow" readonly />
        </div>
        
        <div class="fab-field">
          <label class="fab-label">Guests</label>
          <select id="fabGuests" class="fab-input">
            <option value="1">1 Adult</option>
            <option value="2" selected>2 Adults</option>
            <option value="3">3 Adults</option>
            <option value="4">4 Adults</option>
          </select>
        </div>
      </div>
      
      <button class="fab-submit" id="fabSubmit">Check Availability</button>
    </div>

    <!-- FAB Calendar Overlay -->
    <div class="fab-calendar-overlay" id="fabCalendarOverlay">
      <div class="fab-calendar-header">
        <span class="fab-calendar-title">Select Date</span>
        <button class="fab-calendar-close" id="fabCalendarClose" aria-label="Close calendar">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div id="fabCalendarContainer"></div>
    </div>

    <!-- Mobile Booking FAB JavaScript -->
    <script>
      (function() {
        'use strict';
        
        // FAB Elements
        const fabButton = document.getElementById('fabButton');
        const fabPanel = document.getElementById('fabPanel');
        const fabBackdrop = document.getElementById('fabBackdrop');
        const fabClose = document.getElementById('fabClose');
        const fabCalendarOverlay = document.getElementById('fabCalendarOverlay');
        const fabCalendarClose = document.getElementById('fabCalendarClose');
        const fabCalendarContainer = document.getElementById('fabCalendarContainer');
        const fabCheckIn = document.getElementById('fabCheckIn');
        const fabCheckOut = document.getElementById('fabCheckOut');
        const fabGuests = document.getElementById('fabGuests');
        const fabSubmit = document.getElementById('fabSubmit');
        
        // State
        let isPanelOpen = false;
        let isCalendarOpen = false;
        let calendarMode = 'checkin';
        let checkInDate = null;
        let checkOutDate = null;
        let calendarFp = null;
        
        // Initialize
        function init() {
          // Set default dates (today, tomorrow)
          const today = new Date();
          const tomorrow = new Date(today);
          tomorrow.setDate(tomorrow.getDate() + 1);
          
          checkInDate = today;
          checkOutDate = tomorrow;
          
          updateDateInputs();
          
          // Event listeners
          if (fabButton) {
            fabButton.addEventListener('click', openPanel);
          }
          if (fabClose) {
            fabClose.addEventListener('click', closePanel);
          }
          if (fabBackdrop) {
            fabBackdrop.addEventListener('click', closePanel);
          }
          if (fabCalendarClose) {
            fabCalendarClose.addEventListener('click', closeCalendar);
          }
          if (fabCheckIn) {
            fabCheckIn.addEventListener('click', function() {
              openCalendar('checkin');
            });
          }
          if (fabCheckOut) {
            fabCheckOut.addEventListener('click', function() {
              openCalendar('checkout');
            });
          }
          if (fabSubmit) {
            fabSubmit.addEventListener('click', handleSubmit);
          }
          
          // Keyboard accessibility
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
              if (isCalendarOpen) {
                closeCalendar();
              } else if (isPanelOpen) {
                closePanel();
              }
            }
          });
          
          console.log('Mobile Booking FAB initialized');
        }
        
        // Open FAB panel
        function openPanel() {
          isPanelOpen = true;
          if (fabPanel) {
            fabPanel.classList.add('active');
          }
          if (fabBackdrop) {
            fabBackdrop.classList.add('active');
          }
          document.body.style.overflow = 'hidden';
          
          // Haptic feedback
          if (navigator.vibrate) {
            navigator.vibrate(10);
          }
        }
        
        // Close FAB panel
        function closePanel() {
          isPanelOpen = false;
          if (fabPanel) {
            fabPanel.classList.remove('active');
          }
          if (fabBackdrop) {
            fabBackdrop.classList.remove('active');
          }
          document.body.style.overflow = '';
          
          // Close calendar if open
          if (isCalendarOpen) {
            closeCalendar();
          }
        }
        
        // Open calendar overlay
        function openCalendar(mode) {
          calendarMode = mode;
          isCalendarOpen = true;
          if (fabCalendarOverlay) {
            fabCalendarOverlay.classList.add('active');
          }
          
          renderCalendar();
          
          // Haptic feedback
          if (navigator.vibrate) {
            navigator.vibrate(10);
          }
        }
        
        // Close calendar overlay
        function closeCalendar() {
          isCalendarOpen = false;
          if (fabCalendarOverlay) {
            fabCalendarOverlay.classList.remove('active');
          }
        }
        
        // Render calendar using Flatpickr
        function renderCalendar() {
          if (!fabCalendarContainer) return;
          
          fabCalendarContainer.innerHTML = '';
          
          const input = document.createElement('input');
          input.type = 'text';
          input.id = 'fabCalendarInput';
          input.style.display = 'none';
          fabCalendarContainer.appendChild(input);
          
          // Destroy existing instance
          if (calendarFp) {
            calendarFp.destroy();
          }
          
          // Configure flatpickr
          const minDate = calendarMode === 'checkout' && checkInDate 
            ? new Date(checkInDate.getTime() + 86400000) 
            : 'today';
          
          const defaultDate = calendarMode === 'checkin' ? checkInDate : checkOutDate;
          
          if (typeof flatpickr !== 'undefined') {
            calendarFp = flatpickr(input, {
              inline: true,
              minDate: minDate,
              defaultDate: defaultDate,
              mode: 'range',
              showMonths: 1,
              static: true,
              onChange: function(selectedDates, dateStr) {
                if (calendarMode === 'checkin' && selectedDates.length > 0) {
                  checkInDate = selectedDates[0];
                  
                  // Auto-set checkout to next day
                  const nextDay = new Date(checkInDate);
                  nextDay.setDate(nextDay.getDate() + 1);
                  
                  if (!checkOutDate || checkOutDate <= checkInDate) {
                    checkOutDate = nextDay;
                  }
                  
                  updateDateInputs();
                  closeCalendar();
                  
                  // Haptic feedback
                  if (navigator.vibrate) {
                    navigator.vibrate(10);
                  }
                } else if (calendarMode === 'checkout' && selectedDates.length > 0) {
                  const lastDate = selectedDates[selectedDates.length - 1];
                  checkOutDate = lastDate;
                  
                  updateDateInputs();
                  closeCalendar();
                  
                  // Haptic feedback
                  if (navigator.vibrate) {
                    navigator.vibrate(10);
                  }
                }
              }
            });
          }
        }
        
        // Update date input displays
        function updateDateInputs() {
          if (fabCheckIn && checkInDate) {
            fabCheckIn.value = formatDate(checkInDate);
          }
          if (fabCheckOut && checkOutDate) {
            fabCheckOut.value = formatDate(checkOutDate);
          }
        }
        
        // Format date for display
        function formatDate(date) {
          const options = { weekday: 'short', month: 'short', day: 'numeric' };
          return date.toLocaleDateString('en-US', options);
        }
        
        // Handle form submission
        function handleSubmit() {
          const bookingData = {
            checkIn: checkInDate.toISOString().split('T')[0],
            checkOut: checkOutDate.toISOString().split('T')[0],
            guests: parseInt(fabGuests ? fabGuests.value : '2'),
            fromMobileFAB: true
          };
          
          // Store in sessionStorage
          sessionStorage.setItem('mobileBookingData', JSON.stringify(bookingData));
          
          // Close panel
          closePanel();
          
          // Redirect to rooms page
          window.location.href = '/rooms.html';
        }
        
        // Initialize on DOM ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', init);
        } else {
          init();
        }
      })();
    </script>

  </body>
</html>
